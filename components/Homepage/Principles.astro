---
import ButtonLink from '../Common/ButtonLink.astro';
import HorizontalLine from '../Common/HorizontalLine.astro';
import { Image } from 'astro:assets';
import ownerImage from '@/src/assets/img/home/home-owner.png';
import ownerImageBackground from '@/src/assets/img/home/home-owner-bg.png';
import principlesList from '@/data/principlesList.json';
import UniversalWrapper from '../Layout/UniversalWrapper.astro';
---

<UniversalWrapper class="principles">
  <header>
    <div class="title">
      <h1>how we can help your</h1>
      <h2>BUSINESS</h2>
    </div>
    <p>
      We specialize in setting up HR departments for start-ups and businesses
      that are scaling or evolving.
    </p>
  </header>
  <HorizontalLine class="line" />
  <div class="imageContainer">
    <Image
      src={ownerImage}
      alt="The owner of the website."
      class="ownerImg"
      quality={90}
    />
    <Image
      src={ownerImageBackground}
      alt="A grey background for the owner photo."
      class="ownerImgBg"
    />
  </div>
  <article class="principlesList">
    <ol>
      {principlesList.map((principle) => <li>{principle.text}</li>)}
    </ol>
    <ButtonLink text="discover more" to="/offer" />
  </article>
</UniversalWrapper>

<style lang="scss">
  header {
    max-width: 550px;
    min-width: 300px;
    margin: 0 auto;
    .title {
      max-width: 400px;
      margin: 0 auto;
      h1 {
        font-size: 1.6rem;
      }
      h2 {
        color: var(--text-color-secondary);
        text-align: right;
        font-size: 1.7rem;
      }
    }
    p {
      padding: 1rem 0 var(--content-blocks-gap-mobile);
    }
  }
  .imageContainer {
    max-width: 350px;
    position: relative;
    margin: var(--content-blocks-gap-mobile) auto 0;

    .ownerImgBg {
      z-index: 1;
    }
    .ownerImg {
      position: absolute;
      z-index: 2;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
    }
  }

  .principlesList {
    max-width: 450px;
    margin: var(--common-gap-mobile) auto 0;
    ol {
      position: relative;
      display: flex;
      flex-direction: column;
      gap: var(--common-gap-mobile);
      margin-bottom: var(--content-blocks-gap-mobile);
      li {
        &::before {
          color: var(--text-color-secondary);
          content: '0' counter(list) '.';
          left: -1px;
          position: absolute;
          text-align: right;
          width: 26px;
        }
        width: calc(95% - 30px);
        counter-increment: list;
        margin-left: 30px;
      }
      li:last-child {
        &::before {
          content: '';
        }
        margin-left: 0;
        width: 100%;
      }
    }
  }

  @media (min-width: 960px) {
    .principles {
      display: grid;
      grid-template-columns: 1fr 1.5fr;
      column-gap: var(--common-gap-mobile);
      .imageContainer {
        grid-column: 1;
        grid-row: 1 / 4;
        place-self: center;
        max-width: none;
        margin: 0 auto;
      }
      .line {
        width: 100%;
      }
      header {
        grid-column: 2;
        max-width: none;
        .title {
          max-width: 450px;
          h1 {
            font-size: 2.2rem;
          }
          h2 {
            font-size: 2.5rem;
          }
        }
        p {
          padding: 1rem 0 2rem 30px;
        }
      }
      .principlesList {
        max-width: none;
      }
    }
  }
</style>
